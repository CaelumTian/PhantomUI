<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="../../../../support/zepto.min.js"></script>
    <script src="../class.js"></script>
    <script src="../base.js"></script>
</head>
<body>
    <script>
        var Widget = Class.create(Base, {
            attrs : {
                template : '<div></div>',
                className : 'span-12',
                ownerNode : {
                    value : {
                        "parent" : "body",
                        "time" : "2016"
                    }
                }
            }
        });
        var Dialog = Class.create(Widget, {
            init : function(config) {
                console.log("初始化");
                this._super._initAttrs.apply(this, config);
                this.on("change:status", this.change);
            },
            attrs : {
                template : '<div></div>',
                className : 'phantom-dialog',
                ownerNode : {
                    value : {
                        "parent" : "div"
                    },
                    attrMerge : true    //继承attrs
                },
                id : '#dialog',
                status : {
                    value : "open",
                    setter : function(value, name, data) {
                        console.log(arguments);
                        return value;
                    },
                    getter : function(value, key) {
                        return "当前状态为:" + value;
                    }
                }
            },
            change : function() {
                console.log("status发生改变,传入参数为" + arguments);
            }
        });
        var dia = new Dialog();
    </script>
</body>
</html>